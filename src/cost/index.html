<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cost Estimator</title>
  <link rel="stylesheet" href="./cost.css?cacheBust=1">
</head>
<body>
  <div id="info">
    <h2>Training Cost Estimator</h2>
  </div>
  <div id="controls">
    <div>
      <input type="text" id="taskGroup" placeholder="Add a Task Group ID">
    </div>
    <div>
      <input type="number" id="costScalar" value="1" />
      <label for="costScalar">Cost Scalar</label>
    </div>
    <a href="https://docs.google.com/spreadsheets/d/1-mn60Kwp-IUJ99XfiUkxYv4DX-H6CQDwIUV4WnaykJk/edit#gid=118509819">Cost Estimates</a>
    <div>
      <input type="checkbox" id="fetchDependentTasks">
      <label for="fetchDependentTasks">Fetch dependent tasks</label>
    </div>
  </div>
  <div id="taskGroups">
    <table>
      <thead>
        <tr>
          <th>Task Group</th>
          <th>Label</th>
          <th>Controls</th>
        </tr>
      </thead>
      <tbody id="taskGroupList">
        <!-- insert task groups here -->
      </tbody>
    </table>
    <div id="taskGroupTasks">
      <div> <!-- scroller -->
        <table>
          <thead>
            <tr>
              <th>Task</th>
              <th>State</th>
            </tr>
          </thead>
          <tbody id="taskGroupTasksBody">
            <!-- populate tasks on click -->
          </body>
        </table>
      </div>
    </div>
  </div>
  <p id="infoMessage">
    Add a taskgroup and estimate a training run cost.
  </p>
  <div id="error"></div>
  <div id="costBreakdown">
    <input type="text" id="label" placeholder="Set a label for this cost estimation" />
    <div id="chart"></div>

    <table>

      <thead>
        <tr>
          <th colspan="7"><h2>Total Cost Estimates</h2></th>
        </tr>
        <tr>
          <th>Label</th>
          <th>Cost</th>
          <th>Compute Time</th>

          <th>Completed</th>
          <th>Running</th>
          <th>Failed</th>
          <th>Exception</th>
        </tr>
      </thead>
      <tbody id="costTotals">
        <!-- insert rows here -->
      </tbody>

      <thead>
        <tr>
          <th colspan="7"><h2>Breakdown Estimates</h2></th>
        </tr>
        <tr>
          <th>Label</th>
          <th>Cost</th>
          <th>Compute Time</th>

          <th>Completed</th>
          <th>Running</th>
          <th>Failed</th>
          <th>Exception</th>
        </tr>
      </thead>
      <tbody id="breakdownCosts">
        <!-- insert rows here -->
      </tbody>

    </table>
  </div>

  <script src="../../assets/d3.v7.min.js"></script>
  <script type="module" src="./cost.mjs"></script>
</body>
</html>
